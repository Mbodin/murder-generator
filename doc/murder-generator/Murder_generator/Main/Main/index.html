<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Main (murder-generator.Murder_generator.Main.Main)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">murder-generator</a> &#x00BB; <a href="../../index.html">Murder_generator</a> &#x00BB; <a href="../index.html">Main</a> &#x00BB; Main</nav><h1>Module <code>Main.Main</code></h1><p>This entire file is parameterised by an interface as specified in the InOut Module.</p></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-IO/index.html">IO</a> : <a href="../../InOut/index.html#module-type-T">InOut.T</a></code></li></ul><h3 class="heading">Signature</h3><dl><dt class="spec value" id="val-webpage_link"><a href="#val-webpage_link" class="anchor"></a><code><span class="keyword">val</span> webpage_link : string</code></dt><dt class="spec value" id="val-webpage_issues"><a href="#val-webpage_issues" class="anchor"></a><code><span class="keyword">val</span> webpage_issues : string</code></dt><dt class="spec value" id="val-trace"><a href="#val-trace" class="anchor"></a><code><span class="keyword">val</span> trace : <span><span>string list</span> Stdlib.ref</span></code></dt><dd><p>A trace of the menu function to help debugging.</p></dd></dl><dl><dt class="spec value" id="val-add_trace"><a href="#val-add_trace" class="anchor"></a><code><span class="keyword">val</span> add_trace : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Adding a message in the trace</p></dd></dl><dl><dt class="spec value" id="val-get_trace"><a href="#val-get_trace" class="anchor"></a><code><span class="keyword">val</span> get_trace : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p>Get the full trace.</p></dd></dl><dl><dt class="spec value" id="val-errorTranslationsDefault"><a href="#val-errorTranslationsDefault" class="anchor"></a><code><span class="keyword">val</span> errorTranslationsDefault : string * string * string * string</code></dt><dd><p>The default error messages.</p></dd></dl><dl><dt class="spec value" id="val-errorTranslations"><a href="#val-errorTranslations" class="anchor"></a><code><span class="keyword">val</span> errorTranslations : <span><span>(string * string * string * string)</span> Stdlib.ref</span></code></dt><dd><p>The translations needed to print error messages.</p></dd></dl><dl><dt class="spec value" id="val-file_signature"><a href="#val-file_signature" class="anchor"></a><code><span class="keyword">val</span> file_signature : <span class="type-var">'a</span> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-get_translations"><a href="#val-get_translations" class="anchor"></a><code><span class="keyword">val</span> get_translations : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span>string <a href="../../Translation/index.html#type-t">Translation.t</a></span> * <span><a href="../../Translation/index.html#type-language">Translation.language</a> list</span>)</span> Lwt.t</span></code></dt><dd><p>Getting and parsing the translations file.</p></dd></dl><dl><dt class="spec value" id="val-print_list"><a href="#val-print_list" class="anchor"></a><code><span class="keyword">val</span> print_list : string <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> string</code></dt><dd><p>Prints a list of strings, <code>andw</code> being the word for “and” in the current language. This function makes use of the Oxford comma.</p></dd></dl><dl><dt class="spec value" id="val-get_data"><a href="#val-get_data" class="anchor"></a><code><span class="keyword">val</span> get_data : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><a href="../../Driver/index.html#type-state">Driver.state</a> Lwt.t</span></code></dt><dd><p>Get and parse each data file.</p></dd></dl><dl><dt class="spec value" id="val-get_names"><a href="#val-get_names" class="anchor"></a><code><span class="keyword">val</span> get_names : <span><a href="../../Driver/index.html#type-state">Driver.state</a> Lwt.t</span> <span>&#45;&gt;</span> <span><span><a href="../../Names/index.html#type-t">Names.t</a> list</span> Lwt.t</span></code></dt><dd><p>Get and parse each name file.</p></dd></dl><dl><dt class="spec type" id="type-player_information"><a href="#type-player_information" class="anchor"></a><code><span class="keyword">type</span> player_information</code><code> = </code><code>{</code><table class="record"><tr id="type-player_information.name" class="anchored"><td class="def field"><a href="#type-player_information.name" class="anchor"></a><code>name : string;</code></td><td class="doc"><p>Character name</p></td></tr><tr id="type-player_information.complexity" class="anchored"><td class="def field"><a href="#type-player_information.complexity" class="anchor"></a><code>complexity : int;</code></td><td class="doc"><p>Complexity</p></td></tr><tr id="type-player_information.difficulty" class="anchored"><td class="def field"><a href="#type-player_information.difficulty" class="anchor"></a><code>difficulty : int;</code></td><td class="doc"><p>Difficulty</p></td></tr><tr id="type-player_information.attributes" class="anchored"><td class="def field"><a href="#type-player_information.attributes" class="anchor"></a><code>attributes : <span><a href="../../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> list</span>;</code></td><td class="doc"><p>Preset attributes</p></td></tr><tr id="type-player_information.contacts" class="anchored"><td class="def field"><a href="#type-player_information.contacts" class="anchor"></a><code>contacts : <span><span><a href="../../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> list</span> list</span>;</code></td><td class="doc"><p>Preset contacts</p></td></tr></table><code>}</code></dt><dd><p>A type to store player information</p></dd></dl><dl><dt class="spec type" id="type-parameters"><a href="#type-parameters" class="anchor"></a><code><span class="keyword">type</span> parameters</code><code> = </code><code>{</code><table class="record"><tr id="type-parameters.language" class="anchored"><td class="def field"><a href="#type-parameters.language" class="anchor"></a><code>language : <span><a href="../../Translation/index.html#type-language">Translation.language</a> option</span>;</code></td></tr><tr id="type-parameters.player_number" class="anchored"><td class="def field"><a href="#type-parameters.player_number" class="anchor"></a><code>player_number : int;</code></td></tr><tr id="type-parameters.general_level" class="anchored"><td class="def field"><a href="#type-parameters.general_level" class="anchor"></a><code>general_level : float;</code></td></tr><tr id="type-parameters.general_complexity" class="anchored"><td class="def field"><a href="#type-parameters.general_complexity" class="anchor"></a><code>general_complexity : float;</code></td></tr><tr id="type-parameters.play_date" class="anchored"><td class="def field"><a href="#type-parameters.play_date" class="anchor"></a><code>play_date : Libutils.Date.t;</code></td></tr><tr id="type-parameters.computation_power" class="anchored"><td class="def field"><a href="#type-parameters.computation_power" class="anchor"></a><code>computation_power : float;</code></td></tr><tr id="type-parameters.categories" class="anchored"><td class="def field"><a href="#type-parameters.categories" class="anchor"></a><code>categories : <span><span>Libutils.Id.t Libutils.PSet.t</span> option</span>;</code></td></tr><tr id="type-parameters.player_information" class="anchored"><td class="def field"><a href="#type-parameters.player_information" class="anchor"></a><code>player_information : <span><a href="index.html#type-player_information">player_information</a> list</span>;</code></td></tr><tr id="type-parameters.chosen_productions" class="anchored"><td class="def field"><a href="#type-parameters.chosen_productions" class="anchor"></a><code>chosen_productions : <span>string Libutils.PSet.t</span>;</code></td><td class="doc"><p>The name of each chosen production.</p></td></tr></table><code>}</code></dt><dd><p>A type to store what each page of the menu provides.</p></dd></dl><dl><dt class="spec value" id="val-urltag_lang"><a href="#val-urltag_lang" class="anchor"></a><code><span class="keyword">val</span> urltag_lang : string</code></dt><dd><p>URL tags</p></dd></dl><dl><dt class="spec value" id="val-urltag_number"><a href="#val-urltag_number" class="anchor"></a><code><span class="keyword">val</span> urltag_number : string</code></dt><dt class="spec value" id="val-urltag_level"><a href="#val-urltag_level" class="anchor"></a><code><span class="keyword">val</span> urltag_level : string</code></dt><dt class="spec value" id="val-urltag_complexity"><a href="#val-urltag_complexity" class="anchor"></a><code><span class="keyword">val</span> urltag_complexity : string</code></dt><dt class="spec value" id="val-urltag_date"><a href="#val-urltag_date" class="anchor"></a><code><span class="keyword">val</span> urltag_date : string</code></dt><dt class="spec value" id="val-urltag_power"><a href="#val-urltag_power" class="anchor"></a><code><span class="keyword">val</span> urltag_power : string</code></dt><dt class="spec value" id="val-urltag_categories"><a href="#val-urltag_categories" class="anchor"></a><code><span class="keyword">val</span> urltag_categories : string</code></dt></dl><dl><dt class="spec exception" id="exception-InvalidUrlArgument"><a href="#exception-InvalidUrlArgument" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">InvalidUrlArgument</span></code></dt></dl><dl><dt class="spec value" id="val-create_player_information"><a href="#val-create_player_information" class="anchor"></a><code><span class="keyword">val</span> create_player_information : <span><a href="../../Names/index.html#type-t">Names.t</a> list</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-parameters">parameters</a> <span>&#45;&gt;</span> <span><a href="index.html#type-player_information">player_information</a> list</span></code></dt><dd><p>Update player informations from the parameters such that it matches the <code>player_number</code> data.</p></dd></dl><dl><dt class="spec value" id="val-get_categories"><a href="#val-get_categories" class="anchor"></a><code><span class="keyword">val</span> get_categories : <a href="../../Driver/index.html#type-state">Driver.state</a> <span>&#45;&gt;</span> <a href="index.html#type-parameters">parameters</a> <span>&#45;&gt;</span> <span>Libutils.Id.t Libutils.PSet.t</span></code></dt><dd><p>Get the categories from the parameters, but return the default value if not defined.</p></dd></dl><dl><dt class="spec value" id="val-get_all_elements"><a href="#val-get_all_elements" class="anchor"></a><code><span class="keyword">val</span> get_all_elements : <a href="../../Driver/index.html#type-state">Driver.state</a> <span>&#45;&gt;</span> <a href="index.html#type-parameters">parameters</a> <span>&#45;&gt;</span> <span>Libutils.Id.t list</span></code></dt><dd><p>Get all elements corresponding to these settings.</p></dd></dl><dl><dt class="spec value" id="val-attribute_functions"><a href="#val-attribute_functions" class="anchor"></a><code><span class="keyword">val</span> attribute_functions : <span>(<a href="../../Attribute/PlayerAttribute/index.html#type-constructor_map">Attribute.PlayerAttribute.constructor_map</a> <span>&#45;&gt;</span> <span><a href="../../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> list</span>)</span> * <span>(<a href="../../Attribute/PlayerAttribute/index.html#type-constructor_map">Attribute.PlayerAttribute.constructor_map</a> <span>&#45;&gt;</span> <a href="../../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> <span>&#45;&gt;</span> <span><a href="../../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a> option</span>)</span> * <span>(<a href="../../Attribute/PlayerAttribute/index.html#type-constructor_map">Attribute.PlayerAttribute.constructor_map</a> <span>&#45;&gt;</span> <a href="../../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a> <span>&#45;&gt;</span> <span>string option</span>)</span> * <span>(<a href="../../Attribute/PlayerAttribute/index.html#type-constructor_map">Attribute.PlayerAttribute.constructor_map</a> <span>&#45;&gt;</span> <a href="../../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> <span>&#45;&gt;</span> <span>string option</span>)</span> * <span>(<a href="../../Attribute/PlayerAttribute/index.html#type-constructor_map">Attribute.PlayerAttribute.constructor_map</a> <span>&#45;&gt;</span> <a href="../../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a> <span>&#45;&gt;</span> <a href="../../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> <span>&#45;&gt;</span> bool)</span> * <span>(<a href="../../Attribute/index.html#type-constructor_maps">Attribute.constructor_maps</a> <span>&#45;&gt;</span> <a href="../../Attribute/PlayerAttribute/index.html#type-constructor_map">Attribute.PlayerAttribute.constructor_map</a>)</span> * <span>(<a href="../../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a> <span>&#45;&gt;</span> <a href="../../Attribute/index.html#type-attribute">Attribute.attribute</a>)</span> * <span>(<a href="../../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> <span>&#45;&gt;</span> <a href="../../Attribute/index.html#type-constructor">Attribute.constructor</a>)</span></code></dt><dd><p>In order to factorise between attributes and contact, the following two declarations defines some functions in common between the two structures, so that subfunctions can be reused for both.</p></dd></dl><dl><dt class="spec value" id="val-contact_functions"><a href="#val-contact_functions" class="anchor"></a><code><span class="keyword">val</span> contact_functions : <span>(<a href="../../Attribute/ContactAttribute/index.html#type-constructor_map">Attribute.ContactAttribute.constructor_map</a> <span>&#45;&gt;</span> <span><a href="../../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> list</span>)</span> * <span>(<a href="../../Attribute/ContactAttribute/index.html#type-constructor_map">Attribute.ContactAttribute.constructor_map</a> <span>&#45;&gt;</span> <a href="../../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> <span>&#45;&gt;</span> <span><a href="../../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> option</span>)</span> * <span>(<a href="../../Attribute/ContactAttribute/index.html#type-constructor_map">Attribute.ContactAttribute.constructor_map</a> <span>&#45;&gt;</span> <a href="../../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> <span>&#45;&gt;</span> <span>string option</span>)</span> * <span>(<a href="../../Attribute/ContactAttribute/index.html#type-constructor_map">Attribute.ContactAttribute.constructor_map</a> <span>&#45;&gt;</span> <a href="../../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> <span>&#45;&gt;</span> <span>string option</span>)</span> * <span>(<a href="../../Attribute/ContactAttribute/index.html#type-constructor_map">Attribute.ContactAttribute.constructor_map</a> <span>&#45;&gt;</span> <a href="../../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> <span>&#45;&gt;</span> <a href="../../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> <span>&#45;&gt;</span> bool)</span> * <span>(<a href="../../Attribute/index.html#type-constructor_maps">Attribute.constructor_maps</a> <span>&#45;&gt;</span> <a href="../../Attribute/ContactAttribute/index.html#type-constructor_map">Attribute.ContactAttribute.constructor_map</a>)</span> * <span>(<a href="../../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> <span>&#45;&gt;</span> <a href="../../Attribute/index.html#type-attribute">Attribute.attribute</a>)</span> * <span>(<a href="../../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> <span>&#45;&gt;</span> <a href="../../Attribute/index.html#type-constructor">Attribute.constructor</a>)</span></code></dt><dt class="spec value" id="val-main"><a href="#val-main" class="anchor"></a><code><span class="keyword">val</span> main : <span>unit Lwt.t</span></code></dt><dd><p>The main script.</p></dd></dl></div></body></html>
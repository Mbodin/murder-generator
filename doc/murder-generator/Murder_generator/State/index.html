<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>State (murder-generator.Murder_generator.State)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">murder-generator</a> &#x00BB; <a href="../index.html">Murder_generator</a> &#x00BB; State</nav><h1>Module <code>Murder_generator.State</code></h1></header><aside><p>Module State Describes the state of the solver.</p></aside><dl><dt class="spec type" id="type-character"><a href="#type-character" class="anchor"></a><code><span class="keyword">type</span> character</code><code> = <a href="../History/index.html#type-character">History.character</a></code></dt><dt class="spec type" id="type-objective"><a href="#type-objective" class="anchor"></a><code><span class="keyword">type</span> objective</code><code> = </code><code>{</code><table class="record"><tr id="type-objective.difficulty" class="anchored"><td class="def field"><a href="#type-objective.difficulty" class="anchor"></a><code>difficulty : int;</code></td></tr><tr id="type-objective.complexity" class="anchored"><td class="def field"><a href="#type-objective.complexity" class="anchor"></a><code>complexity : int;</code></td></tr></table><code>}</code></dt><dd><p>The target difficulty and simplicity measures for each player. See the Relation module for more information.</p></dd></dl><dl><dt class="spec value" id="val-zero_objective"><a href="#val-zero_objective" class="anchor"></a><code><span class="keyword">val</span> zero_objective : <a href="index.html#type-objective">objective</a></code></dt><dd><p>The empty objective.</p></dd></dl><dl><dt class="spec type" id="type-relation_state"><a href="#type-relation_state" class="anchor"></a><code><span class="keyword">type</span> relation_state</code></dt><dd><p>A mapping from pairs of characters to Relation.t.</p></dd></dl><dl><dt class="spec value" id="val-copy_relation_state"><a href="#val-copy_relation_state" class="anchor"></a><code><span class="keyword">val</span> copy_relation_state : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-relation_state">relation_state</a></code></dt><dd><p>Some functions involve non-functional effects. This function creates a copy of the current state.</p></dd></dl><dl><dt class="spec value" id="val-read_relation_state"><a href="#val-read_relation_state" class="anchor"></a><code><span class="keyword">val</span> read_relation_state : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Relation/index.html#type-t">Relation.t</a></code></dt><dd><p>Return the relation between two characters. The relations are usually symmetrical, but note how the asymmetrical relation between <code>c1</code> and <code>c2</code> is represented by <code>Asymmetrical (r1, r2)</code> where <code>r1</code> is the relation from the point of view of <code>c1</code>. If a mapping is not present or if both characters are the same, it returns the default relation <code>Relation.Basic Relation.Neutral</code>.</p></dd></dl><dl><dt class="spec value" id="val-write_relation_state"><a href="#val-write_relation_state" class="anchor"></a><code><span class="keyword">val</span> write_relation_state : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Relation/index.html#type-t">Relation.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Non-functionally update the relation state. It updates both the relation and the associated complexities and difficulties.</p></dd></dl><dl><dt class="spec value" id="val-add_relation_state"><a href="#val-add_relation_state" class="anchor"></a><code><span class="keyword">val</span> add_relation_state : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Relation/index.html#type-t">Relation.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>As <code>write_relation_state</code>, but compose the new relation with the already existing one.</p></dd></dl><dl><dt class="spec value" id="val-character_complexity"><a href="#val-character_complexity" class="anchor"></a><code><span class="keyword">val</span> character_complexity : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Return the current complexity of a character in a given state.</p></dd></dl><dl><dt class="spec value" id="val-character_difficulty"><a href="#val-character_difficulty" class="anchor"></a><code><span class="keyword">val</span> character_difficulty : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Return the current difficulty of a character in a given state.</p></dd></dl><dl><dt class="spec value" id="val-add_complexity"><a href="#val-add_complexity" class="anchor"></a><code><span class="keyword">val</span> add_complexity : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Add a given amount of complexity to a character.</p></dd></dl><dl><dt class="spec value" id="val-add_difficulty"><a href="#val-add_difficulty" class="anchor"></a><code><span class="keyword">val</span> add_difficulty : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Add a given amount of difficulty to a character.</p></dd></dl><dl><dt class="spec value" id="val-set_complexity"><a href="#val-set_complexity" class="anchor"></a><code><span class="keyword">val</span> set_complexity : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the complexity of a character to this value, by-passing any other mechanism.</p></dd></dl><dl><dt class="spec value" id="val-set_difficulty"><a href="#val-set_difficulty" class="anchor"></a><code><span class="keyword">val</span> set_difficulty : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the difficulty of a character to this value, by-passing any other mechanism.</p></dd></dl><dl><dt class="spec exception" id="exception-SelfRelation"><a href="#exception-SelfRelation" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">SelfRelation</span></code></dt><dd><p>The following exception is returned if one tries to write or read a relation between two identical characters.</p></dd></dl><dl><dt class="spec value" id="val-create_relation_state"><a href="#val-create_relation_state" class="anchor"></a><code><span class="keyword">val</span> create_relation_state : int <span>&#45;&gt;</span> <a href="index.html#type-relation_state">relation_state</a></code></dt><dd><p>Create an empty relation state for the given number n of characters, each indexed from <code>0</code> to <code>n - 1</code>.</p></dd></dl><dl><dt class="spec type" id="type-character_state"><a href="#type-character_state" class="anchor"></a><code><span class="keyword">type</span> character_state</code></dt><dd><p>The state of attributes and contact of each character.</p></dd></dl><dl><dt class="spec value" id="val-create_character_state"><a href="#val-create_character_state" class="anchor"></a><code><span class="keyword">val</span> create_character_state : int <span>&#45;&gt;</span> <a href="index.html#type-character_state">character_state</a></code></dt><dd><p>Create an empty character state for the given number <code>n</code> of characters, each indexed from <code>0</code> to <code>n - 1</code>.</p></dd></dl><dl><dt class="spec type" id="type-strictness"><a href="#type-strictness" class="anchor"></a><code><span class="keyword">type</span> strictness</code><code> = </code><table class="variant"><tr id="type-strictness.NonStrict" class="anchored"><td class="def constructor"><a href="#type-strictness.NonStrict" class="anchor"></a><code>| </code><code><span class="constructor">NonStrict</span></code></td><td class="doc"><p>A non-strict value can be explained by as many elements as needed. For instance, how two persons know each other (there might be more than one reason for that).</p></td></tr><tr id="type-strictness.LowStrict" class="anchored"><td class="def constructor"><a href="#type-strictness.LowStrict" class="anchor"></a><code>| </code><code><span class="constructor">LowStrict</span></code></td><td class="doc"><p>A low-strict explanation does not conflict with non-strict explanations, but only one low-strict can be set for a given value. This can be used for family relations: there might be non-strict explanations for why people are on the same family (like weddings), but one can’t be both the father and brother of someone.</p></td></tr><tr id="type-strictness.Strict" class="anchored"><td class="def constructor"><a href="#type-strictness.Strict" class="anchor"></a><code>| </code><code><span class="constructor">Strict</span></code></td><td class="doc"><p>A strict value can be explained by only one element.</p></td></tr></table></dt><dd><p>The strictness flag indicates whether a value can be explained by different elements.</p></dd></dl><dl><dt class="spec type" id="type-attribute_value"><a href="#type-attribute_value" class="anchor"></a><code><span class="keyword">type</span> <span>'value attribute_value</span></code><code> = </code><table class="variant"><tr id="type-attribute_value.Fixed_value" class="anchored"><td class="def constructor"><a href="#type-attribute_value.Fixed_value" class="anchor"></a><code>| </code><code><span class="constructor">Fixed_value</span> <span class="keyword">of</span> <span><span class="type-var">'value</span> list</span> * <a href="index.html#type-strictness">strictness</a></code></td><td class="doc"><p>The value has already been fixed to be any of these values. It can not be changed back. The strictness flag indicates how it accepts to be placed in parallel with other elements providing the same value.</p></td></tr><tr id="type-attribute_value.One_value_of" class="anchored"><td class="def constructor"><a href="#type-attribute_value.One_value_of" class="anchor"></a><code>| </code><code><span class="constructor">One_value_of</span> <span class="keyword">of</span> <span><span class="type-var">'value</span> list</span></code></td><td class="doc"><p>The value has not been yet fixed, but it is known to be one of these.</p></td></tr></table></dt><dd><p>Waiting for a value to be decided for a given attribute, the following type is used instead.</p><p>Note that a <code>One_value_of</code> associated with a singleton list is not equivalent to a <code>Fixed_value</code>: the latter has been approved by a story element (possibly associating it with an event), whilst the former hasn’t.</p></dd></dl><dl><dt class="spec value" id="val-compose_strictness"><a href="#val-compose_strictness" class="anchor"></a><code><span class="keyword">val</span> compose_strictness : <a href="index.html#type-strictness">strictness</a> <span>&#45;&gt;</span> <a href="index.html#type-strictness">strictness</a> <span>&#45;&gt;</span> <span><a href="index.html#type-strictness">strictness</a> option</span></code></dt><dd><p>Compose the strictness flag, returning <code>None</code> when they are incompatible.</p></dd></dl><dl><dt class="spec value" id="val-compose_attribute_value"><a href="#val-compose_attribute_value" class="anchor"></a><code><span class="keyword">val</span> compose_attribute_value : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-attribute_value">attribute_value</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-attribute_value">attribute_value</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-attribute_value">attribute_value</a></span> option</span></code></dt><dd><p>Compose two attribute values, if they are compatible. This function takes as argument an equivalent of <code>Attribute.is_compatible</code> for the type <code>'a</code>. This function is extended to be reflexive.</p></dd></dl><dl><dt class="spec value" id="val-attribute_value_progress"><a href="#val-attribute_value_progress" class="anchor"></a><code><span class="keyword">val</span> attribute_value_progress : <span><span class="type-var">'a</span> <a href="index.html#type-attribute_value">attribute_value</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-attribute_value">attribute_value</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Given a transition from an attribute value to another, this function states whether the transition <code>One_value_of</code> to <code>Fixed_value</code> occured, or whether the associated lists shrinked in size.</p></dd></dl><dl><dt class="spec value" id="val-attribute_value_can_progress"><a href="#val-attribute_value_can_progress" class="anchor"></a><code><span class="keyword">val</span> attribute_value_can_progress : <span><span class="type-var">'a</span> <a href="index.html#type-attribute_value">attribute_value</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>State whether there exists another attribute value such that <code>attribute_value_progress</code> may make progress. An attribute value can only make progress once (from <code>One_value_of</code> to <code>Fixed_value</code>).</p></dd></dl><dl><dt class="spec value" id="val-get_attribute_character"><a href="#val-get_attribute_character" class="anchor"></a><code><span class="keyword">val</span> get_attribute_character : <a href="index.html#type-character_state">character_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a> <span>&#45;&gt;</span> <span><span><a href="../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> <a href="index.html#type-attribute_value">attribute_value</a></span> option</span></code></dt><dd><p>Get a character attribute from the character state.</p></dd></dl><dl><dt class="spec value" id="val-get_all_attributes_character"><a href="#val-get_all_attributes_character" class="anchor"></a><code><span class="keyword">val</span> get_all_attributes_character : <a href="index.html#type-character_state">character_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <span><span>(<a href="../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a>, <span><a href="../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> <a href="index.html#type-attribute_value">attribute_value</a></span>)</span> PMap.t</span></code></dt><dd><p>Return all the current attributes given to a player. This function is meant to be called once the state is stable.</p></dd></dl><dl><dt class="spec value" id="val-force_get_attribute_character"><a href="#val-force_get_attribute_character" class="anchor"></a><code><span class="keyword">val</span> force_get_attribute_character : <a href="../Attribute/PlayerAttribute/index.html#type-constructor_map">Attribute.PlayerAttribute.constructor_map</a> <span>&#45;&gt;</span> <a href="index.html#type-character_state">character_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a> <span>&#45;&gt;</span> <span><a href="../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> <a href="index.html#type-attribute_value">attribute_value</a></span></code></dt><dd><p>Get a character attribute from the character state. If it is not present, the character set is non-functionally updated to mark the attribute as being of need of a value (returning all the constructors of its type).</p></dd></dl><dl><dt class="spec value" id="val-write_attribute_character"><a href="#val-write_attribute_character" class="anchor"></a><code><span class="keyword">val</span> write_attribute_character : <a href="index.html#type-character_state">character_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a> <span>&#45;&gt;</span> <span><a href="../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> <a href="index.html#type-attribute_value">attribute_value</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Non-functionally associate the given attribute of the character to the given value.</p></dd></dl><dl><dt class="spec value" id="val-get_contact_character"><a href="#val-get_contact_character" class="anchor"></a><code><span class="keyword">val</span> get_contact_character : <a href="index.html#type-character_state">character_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <span><span><a href="../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> <a href="index.html#type-attribute_value">attribute_value</a></span> option</span></code></dt><dd><p>Get a contact from the character state, using the target character.</p></dd></dl><dl><dt class="spec value" id="val-write_contact_character"><a href="#val-write_contact_character" class="anchor"></a><code><span class="keyword">val</span> write_contact_character : <a href="index.html#type-character_state">character_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <span><a href="../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> <a href="index.html#type-attribute_value">attribute_value</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Non-functionally associate the given attribute of the character to the given value.</p></dd></dl><dl><dt class="spec value" id="val-get_all_contact_character"><a href="#val-get_all_contact_character" class="anchor"></a><code><span class="keyword">val</span> get_all_contact_character : <a href="index.html#type-character_state">character_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <span><span>(<a href="../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> * <span><a href="../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> <a href="index.html#type-attribute_value">attribute_value</a></span>)</span> list</span></code></dt><dd><p>Get all the contacts of a character from the character state for a given (contact) attribute.</p></dd></dl><dl><dt class="spec value" id="val-get_all_contacts_character"><a href="#val-get_all_contacts_character" class="anchor"></a><code><span class="keyword">val</span> get_all_contacts_character : <a href="index.html#type-character_state">character_state</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-character">character</a>, <span><span>(<a href="../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> * <span><a href="../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> <a href="index.html#type-attribute_value">attribute_value</a></span>)</span> list</span>)</span> PMap.t</span></code></dt><dd><p>Similar to <code>get_all_attributes_character</code>, returns all the current contact given to a player. This function is meant to only be called once the state is stable.</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>A state is just a combination of each state component:</p><ul><li>a character state,</li><li>a relation state,</li><li>a history state. It also carries some cache, which can be updated imperatively.</li></ul></dd></dl><dl><dt class="spec value" id="val-copy"><a href="#val-copy" class="anchor"></a><code><span class="keyword">val</span> copy : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>The state involves non-functional effects. This function creates a copy of the current state.</p></dd></dl><dl><dt class="spec value" id="val-get_relation_state"><a href="#val-get_relation_state" class="anchor"></a><code><span class="keyword">val</span> get_relation_state : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-relation_state">relation_state</a></code></dt><dd><p>Get the <code>relation_state</code> component of the state.</p></dd></dl><dl><dt class="spec value" id="val-read_relation"><a href="#val-read_relation" class="anchor"></a><code><span class="keyword">val</span> read_relation : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Relation/index.html#type-t">Relation.t</a></code></dt><dd><p>Read the relation between two different characters in a state.</p></dd></dl><dl><dt class="spec value" id="val-write_relation"><a href="#val-write_relation" class="anchor"></a><code><span class="keyword">val</span> write_relation : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Relation/index.html#type-t">Relation.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Non-functionally update a relation in a state. The two characters have to be different. This function writes both directions of the relation (that is, there is no need to call both <code>write_relation s c1 c2 r</code> and <code>write_relation s c2 c1 (Relation.reverse r)</code> at the same time.</p></dd></dl><dl><dt class="spec value" id="val-add_relation"><a href="#val-add_relation" class="anchor"></a><code><span class="keyword">val</span> add_relation : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Relation/index.html#type-t">Relation.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>As <code>write_relation</code>, but compose the new relation with the already existing one.</p></dd></dl><dl><dt class="spec value" id="val-create_state"><a href="#val-create_state" class="anchor"></a><code><span class="keyword">val</span> create_state : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create an empty state for the given number n of characters, each indexed from <code>0</code> to <code>n - 1</code>. An initial value for the state has to be given.</p></dd></dl><dl><dt class="spec value" id="val-get_character_state"><a href="#val-get_character_state" class="anchor"></a><code><span class="keyword">val</span> get_character_state : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-character_state">character_state</a></code></dt><dd><p>Get the character state component of a state.</p></dd></dl><dl><dt class="spec value" id="val-get_history_state"><a href="#val-get_history_state" class="anchor"></a><code><span class="keyword">val</span> get_history_state : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../History/index.html#type-t">History.t</a></code></dt><dd><p>Get the history state component of a state.</p></dd></dl><dl><dt class="spec value" id="val-set_history_state"><a href="#val-set_history_state" class="anchor"></a><code><span class="keyword">val</span> set_history_state : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../History/index.html#type-t">History.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Set the history state component of a state.</p></dd></dl><dl><dt class="spec value" id="val-apply_event"><a href="#val-apply_event" class="anchor"></a><code><span class="keyword">val</span> apply_event : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../History/index.html#type-status">History.status</a> <span>&#45;&gt;</span> <span><a href="index.html#type-character">character</a> <a href="../Events/index.html#type-t">Events.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Call <code>History.apply</code> on an events.</p></dd></dl><dl><dt class="spec value" id="val-apply_events"><a href="#val-apply_events" class="anchor"></a><code><span class="keyword">val</span> apply_events : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../History/index.html#type-status">History.status</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-character">character</a> <a href="../Events/index.html#type-t">Events.t</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Call <code>History.lapply</code> on a set of events.</p></dd></dl><dl><dt class="spec value" id="val-number_of_player"><a href="#val-number_of_player" class="anchor"></a><code><span class="keyword">val</span> number_of_player : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Return the size of the state, that its number of players.</p></dd></dl><dl><dt class="spec value" id="val-number_of_player_relation_state"><a href="#val-number_of_player_relation_state" class="anchor"></a><code><span class="keyword">val</span> number_of_player_relation_state : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Similar to <code>number_of_player</code>, but from a relation state.</p></dd></dl><dl><dt class="spec value" id="val-all_players"><a href="#val-all_players" class="anchor"></a><code><span class="keyword">val</span> all_players : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-character">character</a> list</span></code></dt><dd><p>Return the list of all players defined in this state.</p></dd></dl><dl><dt class="spec value" id="val-all_players_relation"><a href="#val-all_players_relation" class="anchor"></a><code><span class="keyword">val</span> all_players_relation : <a href="index.html#type-relation_state">relation_state</a> <span>&#45;&gt;</span> <span><a href="index.html#type-character">character</a> list</span></code></dt><dd><p>Similar to <code>all_players</code>, but from a relation state.</p></dd></dl><dl><dt class="spec type" id="type-final"><a href="#type-final" class="anchor"></a><code><span class="keyword">type</span> final</code></dt><dd><p>The type <code>t</code> is mainly used in the process of generating the scenario. It is optimised to store constraints, and in particular if there are several solutions, it will try to keep all of them, possibly abstracting them to only their relevant bits. However, the final scenario must actually concretise each of these abstracted values. This is the goal of this type.</p></dd></dl><dl><dt class="spec value" id="val-finalise"><a href="#val-finalise" class="anchor"></a><code><span class="keyword">val</span> finalise : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Libutils.Date.t <span>&#45;&gt;</span> <a href="index.html#type-final">final</a></code></dt><dd><p>Fixes a state to its final state. It needs the date of the played scenario.</p></dd></dl><dl><dt class="spec value" id="val-get_attribute_character_final"><a href="#val-get_attribute_character_final" class="anchor"></a><code><span class="keyword">val</span> get_attribute_character_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a> <span>&#45;&gt;</span> <span><span>(<a href="../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> * bool)</span> option</span></code></dt><dd><p>Similar to <code>get_attributes_character</code>, but for the finalised state. An additional boolean is returned: it states whether this constructor has been fixed by an element (<code>true</code>), or whether its value has just been assigned by default (<code>false</code>).</p></dd></dl><dl><dt class="spec value" id="val-get_all_attributes_character_final"><a href="#val-get_all_attributes_character_final" class="anchor"></a><code><span class="keyword">val</span> get_all_attributes_character_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <span><span>(<a href="../Attribute/PlayerAttribute/index.html#type-attribute">Attribute.PlayerAttribute.attribute</a>, <a href="../Attribute/PlayerAttribute/index.html#type-constructor">Attribute.PlayerAttribute.constructor</a> * bool)</span> PMap.t</span></code></dt><dd><p>Similar to <code>get_all_attributes_character</code>, but for the finalised state.</p></dd></dl><dl><dt class="spec value" id="val-get_contact_character_final"><a href="#val-get_contact_character_final" class="anchor"></a><code><span class="keyword">val</span> get_contact_character_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <span><span>(<a href="../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> * bool)</span> option</span></code></dt><dd><p>Similar to <code>get_contact_character</code>, but for the finalised state.</p></dd></dl><dl><dt class="spec value" id="val-get_all_contacts_character_final"><a href="#val-get_all_contacts_character_final" class="anchor"></a><code><span class="keyword">val</span> get_all_contacts_character_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-character">character</a>, <span><span>(<a href="../Attribute/ContactAttribute/index.html#type-attribute">Attribute.ContactAttribute.attribute</a> * <span>(<a href="../Attribute/ContactAttribute/index.html#type-constructor">Attribute.ContactAttribute.constructor</a> * bool)</span>)</span> list</span>)</span> PMap.t</span></code></dt><dd><p>Similar to <code>get_all_contacts_character</code>, but for the finalised state.</p></dd></dl><dl><dt class="spec value" id="val-get_relation_state_final"><a href="#val-get_relation_state_final" class="anchor"></a><code><span class="keyword">val</span> get_relation_state_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <a href="index.html#type-relation_state">relation_state</a></code></dt><dd><p>Similar to <code>get_relation_state</code>, but for the finalised state.</p></dd></dl><dl><dt class="spec value" id="val-read_relation_final"><a href="#val-read_relation_final" class="anchor"></a><code><span class="keyword">val</span> read_relation_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> <a href="../Relation/index.html#type-t">Relation.t</a></code></dt><dd><p>Similar to <code>read_relation</code>, but for the finalised state.</p></dd></dl><dl><dt class="spec value" id="val-character_complexity_final"><a href="#val-character_complexity_final" class="anchor"></a><code><span class="keyword">val</span> character_complexity_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Similar to <code>character_complexity</code>, but for the finalised state.</p></dd></dl><dl><dt class="spec value" id="val-character_difficulty_final"><a href="#val-character_difficulty_final" class="anchor"></a><code><span class="keyword">val</span> character_difficulty_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <a href="index.html#type-character">character</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Similar to <code>character_difficulty</code>, but for the finalised state.</p></dd></dl><dl><dt class="spec value" id="val-get_history_final"><a href="#val-get_history_final" class="anchor"></a><code><span class="keyword">val</span> get_history_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <a href="../History/index.html#type-final">History.final</a></code></dt><dd><p>Get the final generated timeline.</p></dd></dl><dl><dt class="spec value" id="val-all_players_final"><a href="#val-all_players_final" class="anchor"></a><code><span class="keyword">val</span> all_players_final : <a href="index.html#type-final">final</a> <span>&#45;&gt;</span> <span><a href="index.html#type-character">character</a> list</span></code></dt><dd><p>Similar to <code>all_players</code>, but from the finalised state.</p></dd></dl></div></body></html>
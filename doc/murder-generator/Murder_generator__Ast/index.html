<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Murder_generator__Ast (murder-generator.Murder_generator__Ast)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">murder-generator</a> &#x00BB; Murder_generator__Ast</nav><h1>Module <code>Murder_generator__Ast</code></h1><p>Module Ast. This module defines the types that the Parser module produces and feeds the Driver module. Note that these types accepts more things than what they should: this is why the driver is being needed, to filter these invalid files and translate the abstract syntax tree into a useful data structure for the solver.</p></header><dl><dt class="spec type" id="type-attribute_kind"><a href="#type-attribute_kind" class="anchor"></a><code><span class="keyword">type</span> attribute_kind</code><code> = </code><table class="variant"><tr id="type-attribute_kind.Attribute" class="anchored"><td class="def constructor"><a href="#type-attribute_kind.Attribute" class="anchor"></a><code>| </code><code><span class="constructor">Attribute</span></code></td></tr><tr id="type-attribute_kind.Contact" class="anchored"><td class="def constructor"><a href="#type-attribute_kind.Contact" class="anchor"></a><code>| </code><code><span class="constructor">Contact</span></code></td></tr></table></dt><dt class="spec type" id="type-cconstraint"><a href="#type-cconstraint" class="anchor"></a><code><span class="keyword">type</span> cconstraint</code><code> = </code><table class="variant"><tr id="type-cconstraint.HasAttribute" class="anchored"><td class="def constructor"><a href="#type-cconstraint.HasAttribute" class="anchor"></a><code>| </code><code><span class="constructor">HasAttribute</span> <span class="keyword">of</span> string * bool * <span>string list</span></code></td><td class="doc"><p>States that the attribute described by the string should be one of the constructors in the list (if the boolean is <code>false</code>). If the boolean if <code>true</code>, then the relation is opposite: the attribute should not be in this list.</p></td></tr><tr id="type-cconstraint.HasContact" class="anchored"><td class="def constructor"><a href="#type-cconstraint.HasContact" class="anchor"></a><code>| </code><code><span class="constructor">HasContact</span> <span class="keyword">of</span> string * <span>string option</span> * bool * <span>string list</span></code></td><td class="doc"><p>States that the contact described by the first string with the player described by the second string should be one of the constructors in the list (if the boolean is <code>false</code>). If the target player is <code>None</code>, it means that it represents any other player. If the boolean if <code>true</code>, then the relation is opposite: the contact should not be in this list.</p></td></tr></table></dt><dd><p>Constraints over players (in a let-be declaration).</p></dd></dl><dl><dt class="spec type" id="type-destination"><a href="#type-destination" class="anchor"></a><code><span class="keyword">type</span> destination</code><code> = </code><table class="variant"><tr id="type-destination.DestinationPlayer" class="anchored"><td class="def constructor"><a href="#type-destination.DestinationPlayer" class="anchor"></a><code>| </code><code><span class="constructor">DestinationPlayer</span> <span class="keyword">of</span> string</code></td><td class="doc"><p>To a character reprensented by this variable.</p></td></tr><tr id="type-destination.AllOtherPlayers" class="anchored"><td class="def constructor"><a href="#type-destination.AllOtherPlayers" class="anchor"></a><code>| </code><code><span class="constructor">AllOtherPlayers</span></code></td><td class="doc"><p>To all other players (than the ones declared in the element).</p></td></tr><tr id="type-destination.AllPlayers" class="anchored"><td class="def constructor"><a href="#type-destination.AllPlayers" class="anchor"></a><code>| </code><code><span class="constructor">AllPlayers</span></code></td><td class="doc"><p>To all players (including the declared ones).</p></td></tr></table></dt><dd><p>A type to express destinations. The most important constructor is the first one: this type can be thought as just a fancy type for string at first read.</p></dd></dl><dl><dt class="spec type" id="type-target_destination"><a href="#type-target_destination" class="anchor"></a><code><span class="keyword">type</span> <span>'player target_destination</span></code><code> = </code><table class="variant"><tr id="type-target_destination.FromTo" class="anchored"><td class="def constructor"><a href="#type-target_destination.FromTo" class="anchor"></a><code>| </code><code><span class="constructor">FromTo</span> <span class="keyword">of</span> <span class="type-var">'player</span> * <span class="type-var">'player</span></code></td><td class="doc"><p>From the first player to the second player.</p></td></tr><tr id="type-target_destination.Between" class="anchored"><td class="def constructor"><a href="#type-target_destination.Between" class="anchor"></a><code>| </code><code><span class="constructor">Between</span> <span class="keyword">of</span> <span><span class="type-var">'player</span> list</span></code></td><td class="doc"><p>Between players, in a symmetrical way.</p></td></tr></table></dt><dd><p>Describes a direction of a relation or a contact. The type for player is parameterised to enable the use of the special <code>destination</code> type instead.</p></dd></dl><dl><dt class="spec type" id="type-translation"><a href="#type-translation" class="anchor"></a><code><span class="keyword">type</span> translation</code><code> = <a href="../Murder_generator/Translation/index.html#type-language">Murder_generator.Translation.language</a> * <span><a href="../Murder_generator/Translation/index.html#type-command">Murder_generator.Translation.command</a> list</span> * <span><span>string <a href="../Murder_generator/Translation/index.html#type-sitem">Murder_generator.Translation.sitem</a></span> list</span></code></dt><dd><p>Describes a translation in a given language and required or given grammatical cases.</p></dd></dl><dl><dt class="spec type" id="type-description"><a href="#type-description" class="anchor"></a><code><span class="keyword">type</span> description</code><code> = <a href="../Murder_generator/Translation/index.html#type-language">Murder_generator.Translation.language</a> * string</code></dt><dd><p>A description in a language.</p></dd></dl><dl><dt class="spec type" id="type-add"><a href="#type-add" class="anchor"></a><code><span class="keyword">type</span> add</code><code> = <a href="../Murder_generator/Translation/index.html#type-language">Murder_generator.Translation.language</a> * <a href="../Murder_generator/Translation/index.html#type-tag">Murder_generator.Translation.tag</a></code></dt><dd><p>States that having this constructors set as attribute or contact changes the grammatical cases of the player by implicitely providing the following new tag at each translation.</p></dd></dl><dl><dt class="spec type" id="type-let_player"><a href="#type-let_player" class="anchor"></a><code><span class="keyword">type</span> let_player</code><code> = <span>string option</span> * <span><a href="index.html#type-cconstraint">cconstraint</a> list</span></code></dt><dd><p>Declare a player with some constraints. If the player is <code>None</code>, then these constraints apply to any other player than the ones declared in the element.</p></dd></dl><dl><dt class="spec type" id="type-let_object"><a href="#type-let_object" class="anchor"></a><code><span class="keyword">type</span> let_object</code><code> = string * string * <span><a href="index.html#type-cconstraint">cconstraint</a> list</span></code></dt><dd><p>Declare an object of a given kind and name with some constraints.</p></dd></dl><dl><dt class="spec type" id="type-provide_relation"><a href="#type-provide_relation" class="anchor"></a><code><span class="keyword">type</span> provide_relation</code><code> = <span>string <a href="index.html#type-target_destination">target_destination</a></span> * <a href="../Murder_generator/Relation/index.html#type-t">Murder_generator.Relation.t</a></code></dt><dd><p>Provide a relation between two players.</p></dd></dl><dl><dt class="spec type" id="type-provide_attribute"><a href="#type-provide_attribute" class="anchor"></a><code><span class="keyword">type</span> provide_attribute</code><code> = </code><code>{</code><table class="record"><tr id="type-provide_attribute.attribute_strictness" class="anchored"><td class="def field"><a href="#type-provide_attribute.attribute_strictness" class="anchor"></a><code>attribute_strictness : <a href="../Murder_generator/State/index.html#type-strictness">Murder_generator.State.strictness</a>;</code></td><td class="doc"><p>How compatible this statement is with other <code>provide</code> commands.</p></td></tr><tr id="type-provide_attribute.attribute_name" class="anchored"><td class="def field"><a href="#type-provide_attribute.attribute_name" class="anchor"></a><code>attribute_name : string;</code></td><td class="doc"><p>The name of the provided attribute.</p></td></tr><tr id="type-provide_attribute.attribute_player" class="anchored"><td class="def field"><a href="#type-provide_attribute.attribute_player" class="anchor"></a><code>attribute_player : <a href="index.html#type-destination">destination</a>;</code></td><td class="doc"><p>The player to which this attribute should be attached.</p></td></tr><tr id="type-provide_attribute.attribute_value" class="anchored"><td class="def field"><a href="#type-provide_attribute.attribute_value" class="anchor"></a><code>attribute_value : <span>string list</span>;</code></td><td class="doc"><p>The possible constructors provided by this element to the specified player. Each constructor in this list are valid possibilities.</p></td></tr></table><code>}</code></dt><dd><p>Provide an attribute value to a player.</p></dd></dl><dl><dt class="spec type" id="type-provide_contact"><a href="#type-provide_contact" class="anchor"></a><code><span class="keyword">type</span> provide_contact</code><code> = </code><code>{</code><table class="record"><tr id="type-provide_contact.contact_strictness" class="anchored"><td class="def field"><a href="#type-provide_contact.contact_strictness" class="anchor"></a><code>contact_strictness : <a href="../Murder_generator/State/index.html#type-strictness">Murder_generator.State.strictness</a>;</code></td><td class="doc"><p>How compatible this statement is with other <code>provide</code> commands.</p></td></tr><tr id="type-provide_contact.contact_name" class="anchored"><td class="def field"><a href="#type-provide_contact.contact_name" class="anchor"></a><code>contact_name : string;</code></td><td class="doc"><p>The name of the provided contact.</p></td></tr><tr id="type-provide_contact.contact_destination" class="anchored"><td class="def field"><a href="#type-provide_contact.contact_destination" class="anchor"></a><code>contact_destination : <span><a href="index.html#type-destination">destination</a> <a href="index.html#type-target_destination">target_destination</a></span>;</code></td><td class="doc"><p>Defines which players get to be related.</p></td></tr><tr id="type-provide_contact.contact_value" class="anchored"><td class="def field"><a href="#type-provide_contact.contact_value" class="anchor"></a><code>contact_value : <span>string list</span>;</code></td><td class="doc"><p>The possible constructors provided by this element to the specified player. Each constructor in this list are valid possibilities.</p></td></tr></table><code>}</code></dt><dd><p>Provide a contact value to a player.</p></dd></dl><dl><dt class="spec type" id="type-event_kind"><a href="#type-event_kind" class="anchor"></a><code><span class="keyword">type</span> event_kind</code><code> = </code><table class="variant"><tr id="type-event_kind.Kind" class="anchored"><td class="def constructor"><a href="#type-event_kind.Kind" class="anchor"></a><code>| </code><code><span class="constructor">Kind</span> <span class="keyword">of</span> string</code></td><td class="doc"><p>User-declared kind.</p></td></tr><tr id="type-event_kind.KindAttribute" class="anchored"><td class="def constructor"><a href="#type-event_kind.KindAttribute" class="anchor"></a><code>| </code><code><span class="constructor">KindAttribute</span> <span class="keyword">of</span> string</code></td><td class="doc"><p>An event providing this attribute.</p></td></tr><tr id="type-event_kind.KindContact" class="anchored"><td class="def constructor"><a href="#type-event_kind.KindContact" class="anchor"></a><code>| </code><code><span class="constructor">KindContact</span> <span class="keyword">of</span> string * <span>string list</span></code></td><td class="doc"><p>An event providing this contact to these players.</p></td></tr></table></dt><dt class="spec type" id="type-event_constraint"><a href="#type-event_constraint" class="anchor"></a><code><span class="keyword">type</span> event_constraint</code><code> = </code><code>{</code><table class="record"><tr id="type-event_constraint.constraint_kind" class="anchored"><td class="def field"><a href="#type-event_constraint.constraint_kind" class="anchor"></a><code>constraint_kind : <a href="index.html#type-event_kind">event_kind</a>;</code></td><td class="doc"><p>The constraint is about this event kind.</p></td></tr><tr id="type-event_constraint.constraint_players" class="anchored"><td class="def field"><a href="#type-event_constraint.constraint_players" class="anchor"></a><code>constraint_players : <span>string list</span>;</code></td><td class="doc"><p>The constraint only applies for these players</p></td></tr><tr id="type-event_constraint.constraint_after" class="anchored"><td class="def field"><a href="#type-event_constraint.constraint_after" class="anchor"></a><code>constraint_after : bool;</code></td><td class="doc"><p>If <code>true</code>, the constraint is about events following this event, if <code>false</code> about prior events.</p></td></tr><tr id="type-event_constraint.constraint_any" class="anchored"><td class="def field"><a href="#type-event_constraint.constraint_any" class="anchor"></a><code>constraint_any : bool;</code></td><td class="doc"><p>If <code>true</code>, there should be at least one event of this kind in the considered period. If <code>false</code>, there should be none.</p></td></tr></table><code>}</code></dt><dd><p>Declare some constraints over events.</p></dd></dl><dl><dt class="spec type" id="type-command"><a href="#type-command" class="anchor"></a><code><span class="keyword">type</span> command</code><code> = </code><table class="variant"><tr id="type-command.OfCategory" class="anchored"><td class="def constructor"><a href="#type-command.OfCategory" class="anchor"></a><code>| </code><code><span class="constructor">OfCategory</span> <span class="keyword">of</span> string</code></td><td class="doc"><p>The given category is required to consider this block.</p></td></tr><tr id="type-command.Translation" class="anchored"><td class="def constructor"><a href="#type-command.Translation" class="anchor"></a><code>| </code><code><span class="constructor">Translation</span> <span class="keyword">of</span> <a href="index.html#type-translation">translation</a></code></td></tr><tr id="type-command.Description" class="anchored"><td class="def constructor"><a href="#type-command.Description" class="anchor"></a><code>| </code><code><span class="constructor">Description</span> <span class="keyword">of</span> <a href="index.html#type-description">description</a></code></td></tr><tr id="type-command.Sentence" class="anchored"><td class="def constructor"><a href="#type-command.Sentence" class="anchor"></a><code>| </code><code><span class="constructor">Sentence</span> <span class="keyword">of</span> <a href="index.html#type-block">block</a></code></td><td class="doc"><p>A sentence with multiple translations for an event. Only accepts <code>Translation</code> commands.</p></td></tr><tr id="type-command.Add" class="anchored"><td class="def constructor"><a href="#type-command.Add" class="anchor"></a><code>| </code><code><span class="constructor">Add</span> <span class="keyword">of</span> <a href="index.html#type-add">add</a></code></td></tr><tr id="type-command.CompatibleWith" class="anchored"><td class="def constructor"><a href="#type-command.CompatibleWith" class="anchor"></a><code>| </code><code><span class="constructor">CompatibleWith</span> <span class="keyword">of</span> string</code></td><td class="doc"><p>States that if the current constructor is required in a <code>provide compatible</code> command, but the given constructor is present instead, then one can still apply this element.</p></td></tr><tr id="type-command.LetPlayer" class="anchored"><td class="def constructor"><a href="#type-command.LetPlayer" class="anchor"></a><code>| </code><code><span class="constructor">LetPlayer</span> <span class="keyword">of</span> <a href="index.html#type-let_player">let_player</a></code></td></tr><tr id="type-command.LetObject" class="anchored"><td class="def constructor"><a href="#type-command.LetObject" class="anchor"></a><code>| </code><code><span class="constructor">LetObject</span> <span class="keyword">of</span> <a href="index.html#type-let_object">let_object</a></code></td></tr><tr id="type-command.ProvideRelation" class="anchored"><td class="def constructor"><a href="#type-command.ProvideRelation" class="anchor"></a><code>| </code><code><span class="constructor">ProvideRelation</span> <span class="keyword">of</span> <a href="index.html#type-provide_relation">provide_relation</a></code></td></tr><tr id="type-command.ProvideAttribute" class="anchored"><td class="def constructor"><a href="#type-command.ProvideAttribute" class="anchor"></a><code>| </code><code><span class="constructor">ProvideAttribute</span> <span class="keyword">of</span> <a href="index.html#type-provide_attribute">provide_attribute</a></code></td></tr><tr id="type-command.ProvideContact" class="anchored"><td class="def constructor"><a href="#type-command.ProvideContact" class="anchor"></a><code>| </code><code><span class="constructor">ProvideContact</span> <span class="keyword">of</span> <a href="index.html#type-provide_contact">provide_contact</a></code></td></tr><tr id="type-command.AddDifficulty" class="anchored"><td class="def constructor"><a href="#type-command.AddDifficulty" class="anchor"></a><code>| </code><code><span class="constructor">AddDifficulty</span> <span class="keyword">of</span> bool * <span>string list</span></code></td><td class="doc"><p>This element is more difficult than it looks like for these players. If the boolean is <code>false</code>, it is actually less difficult.</p></td></tr><tr id="type-command.AddComplexity" class="anchored"><td class="def constructor"><a href="#type-command.AddComplexity" class="anchor"></a><code>| </code><code><span class="constructor">AddComplexity</span> <span class="keyword">of</span> bool * <span>string list</span></code></td><td class="doc"><p>This element is more complex than it looks like for these players. If the boolean is <code>false</code>, it is actually less complex.</p></td></tr><tr id="type-command.EventKind" class="anchored"><td class="def constructor"><a href="#type-command.EventKind" class="anchor"></a><code>| </code><code><span class="constructor">EventKind</span> <span class="keyword">of</span> string</code></td><td class="doc"><p>The event is of this particular kind.</p></td></tr><tr id="type-command.ProvideEvent" class="anchored"><td class="def constructor"><a href="#type-command.ProvideEvent" class="anchor"></a><code>| </code><code><span class="constructor">ProvideEvent</span> <span class="keyword">of</span> <a href="index.html#type-provide_event">provide_event</a></code></td></tr><tr id="type-command.EventConstraint" class="anchored"><td class="def constructor"><a href="#type-command.EventConstraint" class="anchor"></a><code>| </code><code><span class="constructor">EventConstraint</span> <span class="keyword">of</span> <a href="index.html#type-event_constraint">event_constraint</a></code></td></tr></table></dt><dd><p>The possible commands present in a block.</p></dd></dl><dl><dt class="spec type" id="type-provide_event"><a href="#type-provide_event" class="anchor"></a><code><span class="keyword">and</span> provide_event</code><code> = bool * bool * <a href="../Murder_generator/Events/index.html#type-event_type">Murder_generator.Events.event_type</a> * <span>string list</span> * <a href="index.html#type-block">block</a></code></dt><dd><p>Provide an event of this kind to these players.</p><p>Provides an event of the following type to a list of player. The first boolean states whether the event is blocking, the second wether it is a phantom event. Accepts the following commands: <code>Translation</code>, <code>EventKind</code>, and <code>EventConstraint</code>.</p></dd></dl><dl><dt class="spec type" id="type-block"><a href="#type-block" class="anchor"></a><code><span class="keyword">and</span> block</code><code> = <span><a href="index.html#type-command">command</a> list</span></code></dt><dd><p>A block that provides commands to a declaration. Note that not all blocks can accept any kinds of commands: a post-parsing treatment is needed. See the Driver module (and its <code>convert_block</code> function in particular) for more details.</p></dd></dl><dl><dt class="spec type" id="type-declaration"><a href="#type-declaration" class="anchor"></a><code><span class="keyword">type</span> declaration</code><code> = </code><table class="variant"><tr id="type-declaration.DeclareInstance" class="anchored"><td class="def constructor"><a href="#type-declaration.DeclareInstance" class="anchor"></a><code>| </code><code><span class="constructor">DeclareInstance</span> <span class="keyword">of</span> <a href="index.html#type-attribute_kind">attribute_kind</a> * string * bool * <a href="index.html#type-block">block</a></code></td><td class="doc"><p>Declare a attribute of this name. The boolean states whether the attribute is internal. Only expects commands of the form <code>OfCategory</code> in its block.</p></td></tr><tr id="type-declaration.DeclareConstructor" class="anchored"><td class="def constructor"><a href="#type-declaration.DeclareConstructor" class="anchor"></a><code>| </code><code><span class="constructor">DeclareConstructor</span> <span class="keyword">of</span> <a href="index.html#type-attribute_kind">attribute_kind</a> * string * string * bool * <a href="index.html#type-block">block</a></code></td><td class="doc"><p>Declare a attribute’s constructor for this attribute and of this name. The boolean states whether the constructor is internal. Accepts the following commands: <code>OfCategory</code>, <code>Translation</code>, <code>Add</code>, and <code>CompatibleWith</code>.</p></td></tr><tr id="type-declaration.DeclareObject" class="anchored"><td class="def constructor"><a href="#type-declaration.DeclareObject" class="anchor"></a><code>| </code><code><span class="constructor">DeclareObject</span> <span class="keyword">of</span> string * <a href="index.html#type-block">block</a></code></td><td class="doc"><p>Declare an object kind. Only expects commands of the form <code>OfCategory</code> and <code>Translation</code>.</p></td></tr><tr id="type-declaration.DeclareCategory" class="anchored"><td class="def constructor"><a href="#type-declaration.DeclareCategory" class="anchor"></a><code>| </code><code><span class="constructor">DeclareCategory</span> <span class="keyword">of</span> string * <a href="index.html#type-block">block</a></code></td><td class="doc"><p>Declare a category of this name. Only expects commands of the form <code>OfCategory</code> and <code>Translation</code>.</p></td></tr><tr id="type-declaration.DeclareElement" class="anchored"><td class="def constructor"><a href="#type-declaration.DeclareElement" class="anchor"></a><code>| </code><code><span class="constructor">DeclareElement</span> <span class="keyword">of</span> <a href="../Murder_generator/History/index.html#type-status">Murder_generator.History.status</a> * string * <a href="index.html#type-block">block</a></code></td><td class="doc"><p>Declare an element of this status and name. Accepts the following commands: <code>LetPlayer</code>, <code>OfCategory</code>, <code>ProvideRelation</code>, <code>ProvideAttribute</code>, <code>ProvideContact</code>, and <code>ProvideEvent</code>.</p></td></tr><tr id="type-declaration.DeclareCase" class="anchored"><td class="def constructor"><a href="#type-declaration.DeclareCase" class="anchor"></a><code>| </code><code><span class="constructor">DeclareCase</span> <span class="keyword">of</span> <a href="../Murder_generator/Translation/index.html#type-language">Murder_generator.Translation.language</a> * <a href="../Murder_generator/Translation/index.html#type-tag">Murder_generator.Translation.tag</a></code></td><td class="doc"><p>Declare a grammatical case for a language.</p></td></tr><tr id="type-declaration.DeclareEventKind" class="anchored"><td class="def constructor"><a href="#type-declaration.DeclareEventKind" class="anchor"></a><code>| </code><code><span class="constructor">DeclareEventKind</span> <span class="keyword">of</span> string * <a href="index.html#type-block">block</a></code></td><td class="doc"><p>Declare an event kind of this name. Accepts the following commands: <code>OfCategory</code> and <code>EventKind</code>.</p></td></tr></table></dt></dl></div></body></html>
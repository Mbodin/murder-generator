<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Murder_generator__Export (murder-generator.Murder_generator__Export)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">murder-generator</a> &#x00BB; Murder_generator__Export</nav><h1>Module <code>Murder_generator__Export</code></h1><p>Module Export Provides various functions to translate states into files.</p></header><dl><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type</span> state</code><code> = </code><code>{</code><table class="record"><tr id="type-state.names" class="anchored"><td class="def field"><a href="#type-state.names" class="anchor"></a><code>names : <span>string list</span>;</code></td><td class="doc"><p>The names of each player.</p></td></tr><tr id="type-state.language" class="anchored"><td class="def field"><a href="#type-state.language" class="anchor"></a><code>language : <a href="../Murder_generator/Translation/index.html#type-language">Murder_generator.Translation.language</a>;</code></td><td class="doc"><p>The current language. It will be ignored in outputs that are meant to return a reusable file (like a JSON file), but not for the one targetted to the final user (character sheets or tools for the game master).</p></td></tr><tr id="type-state.date" class="anchored"><td class="def field"><a href="#type-state.date" class="anchor"></a><code>date : Libutils.Date.t;</code></td><td class="doc"><p>The date of the final scenario.</p></td></tr><tr id="type-state.translation" class="anchored"><td class="def field"><a href="#type-state.translation" class="anchor"></a><code>translation : <a href="../Murder_generator/Translation/index.html#type-element">Murder_generator.Translation.element</a>;</code></td><td class="doc"><p>The translation objects.</p></td></tr><tr id="type-state.generic_translation" class="anchored"><td class="def field"><a href="#type-state.generic_translation" class="anchor"></a><code>generic_translation : <span>string <a href="../Murder_generator/Translation/index.html#type-t">Murder_generator.Translation.t</a></span>;</code></td><td class="doc"><p>Generic translations, defined in <code>translations.json</code> instead of the ones defined in the files in <code>data/</code>.</p></td></tr><tr id="type-state.constructor_maps" class="anchored"><td class="def field"><a href="#type-state.constructor_maps" class="anchor"></a><code>constructor_maps : <a href="../Murder_generator/Attribute/index.html#type-constructor_maps">Murder_generator.Attribute.constructor_maps</a>;</code></td><td class="doc"><p>Informations about constructors</p></td></tr><tr id="type-state.state" class="anchored"><td class="def field"><a href="#type-state.state" class="anchor"></a><code>state : <a href="../Murder_generator/State/index.html#type-t">Murder_generator.State.t</a>;</code></td><td class="doc"><p>The generated state.</p></td></tr></table><code>}</code></dt><dd><p>Each function in this file takes an argument of this type. It contains all the information needed to generate any file.</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>A type storing the state as well as other informations. This type is used thorough this file.</p></dd></dl><dl><dt class="spec value" id="val-process"><a href="#val-process" class="anchor"></a><code><span class="keyword">val</span> process : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>A function to create the information needed by the functions of this file.</p></dd></dl><dl><dt class="spec value" id="val-to_json"><a href="#val-to_json" class="anchor"></a><code><span class="keyword">val</span> to_json : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Produce a JSON representation of the state.</p></dd></dl><dl><dt class="spec value" id="val-to_block"><a href="#val-to_block" class="anchor"></a><code><span class="keyword">val</span> to_block : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'node</span> <a href="../Murder_generator/InOut/index.html#type-block">Murder_generator.InOut.block</a></span></code></dt><dd><p>Produce a printable representation of the state.</p></dd></dl><dl><dt class="spec value" id="val-from_json"><a href="#val-from_json" class="anchor"></a><code><span class="keyword">val</span> from_json : <a href="../Murder_generator/Driver/index.html#type-import_information">Murder_generator.Driver.import_information</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>string list</span> * <a href="../Murder_generator/State/index.html#type-t">Murder_generator.State.t</a></code></dt><dd><p>Revert <code>to_json</code> back to a list of names and a state. The first argument is the file name (to report errors), and the second one its actual content.</p></dd></dl><dl><dt class="spec value" id="val-all_production"><a href="#val-all_production" class="anchor"></a><code><span class="keyword">val</span> all_production : <span><span>(string * string * string * string * bool * <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string)</span>)</span> list</span></code></dt><dd><p>All the functions of this file are resumed in the following list. Each function is associated two identifiers in <code>translations.json</code> (one for the name and one for the description), a mime type, a boolean, and an extension. The boolean indicates whether newlines should be converted to suits the host’s operating system.</p></dd></dl><dl><dt class="spec value" id="val-recode"><a href="#val-recode" class="anchor"></a><code><span class="keyword">val</span> recode : <span>?&#8288;encoding:Uutf.encoding</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p>Recode a string into UTF-8, removing any trailing BOM. If the current encoding of the string is not given, it will be guessed using the first characters.</p></dd></dl></div></body></html>